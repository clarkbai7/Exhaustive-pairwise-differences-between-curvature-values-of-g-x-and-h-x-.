<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Curvature Table: g(x) vs h(x)</title>
<style>
  :root{
    --bg:#0b0c0f; --card:#13151a; --text:#e9edf1; --muted:#9aa4b2; --accent:#69b3ff;
    --border:#232734; --accent2:#4ade80;
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
  header{padding:20px 16px 10px;max-width:1200px;margin:auto}
  h1{font-size:clamp(20px,2.6vw,28px);margin:0 0 6px}
  p.subtitle{color:var(--muted);margin:0 0 12px}
  .toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:8px 0 0}
  .toolbar input[type="search"]{
    flex:1 1 220px;max-width:420px;background:var(--card);border:1px solid var(--border);
    color:var(--text);padding:10px 12px;border-radius:8px;outline:none
  }
  .toolbar .btn{
    background:var(--card);border:1px solid var(--border);color:var(--text);
    padding:10px 12px;border-radius:8px;cursor:pointer
  }
  .toolbar .btn.primary{background:var(--accent);border-color:#4a93e6;color:#071423}
  .toolbar .btn:disabled{opacity:.5;cursor:not-allowed}
  main{max-width:1200px;margin:10px auto 40px;padding:0 16px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden}
  .table-wrap{width:100%;overflow:auto}
  table{width:100%;border-collapse:separate;border-spacing:0;min-width:760px}
  thead th{
    position:sticky;top:0;background:linear-gradient(#171a20,#14171d);
    color:#cfe6ff;text-align:right;font-weight:600;padding:10px 12px;border-bottom:1px solid var(--border);
    cursor:pointer; white-space:nowrap;
  }
  thead th:first-child, tbody td:first-child{text-align:right}
  thead th.sort-asc::after{content:" ▲";color:var(--accent2)}
  thead th.sort-desc::after{content:" ▼";color:var(--accent2)}
  tbody td{
    text-align:right;padding:10px 12px;border-bottom:1px solid var(--border);color:var(--text);font-variant-numeric:tabular-nums;
  }
  tbody tr:hover{background:#11141a}
  .footerbar{
    display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;padding:12px;border-top:1px solid var(--border);background:#0f1116
  }
  .pager{display:flex;gap:6px;align-items:center}
  .pager .btn{padding:8px 10px}
  .muted{color:var(--muted)}
  .legend{font-size:12px;color:var(--muted);margin-top:6px}
  @media (max-width:640px){
    thead th{font-size:12px;padding:8px}
    tbody td{font-size:12px;padding:8px}
    .footerbar{gap:10px}
  }
</style>
</head>
<body>
  <header>
    <h1>Curvature differences between g(x) and h(x)</h1>
    <p class="subtitle">All pairwise combinations for your specified x-grids. Click headers to sort. Use search to filter.</p>
    <div class="toolbar">
      <input id="q" type="search" placeholder="Search (e.g. 0.700000, 1.348910, diff &gt; 1.0)" />
      <button class="btn" id="clearBtn">Clear</button>
      <button class="btn" id="csvBtn">Download CSV</button>
      <span class="legend">Columns: x_g, Curvature g(x), x_h, Curvature h(x), |Curv g - Curv h|</span>
    </div>
  </header>

  <main>
    <div class="card">
      <div class="table-wrap">
        <table id="tbl">
          <thead>
            <tr>
              <th data-key="xg">x_g</th>
              <th data-key="kg">Curvature g(x)</th>
              <th data-key="xh">x_h</th>
              <th data-key="kh">Curvature h(x)</th>
              <th data-key="diff">|Curv g - Curv h|</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <!-- rows injected by JS -->
          </tbody>
        </table>
      </div>
      <div class="footerbar">
        <div class="pager">
          <button class="btn" id="prevBtn">Prev</button>
          <span class="muted" id="pageInfo">Page 1</span>
          <button class="btn" id="nextBtn">Next</button>
        </div>
        <div>
          <label class="muted">Rows per page:
            <select id="pageSize">
              <option>25</option>
              <option selected>50</option>
              <option>100</option>
              <option>200</option>
              <option>400</option>
              <option>All</option>
            </select>
          </label>
        </div>
      </div>
    </div>
  </main>

<script>
/* ========= 1) Data ========= */
const DATA = [
  ["0.000000","1.951348","0.000000","1.951348","0.000000"],
  ["0.000000","1.951348","0.100000","1.870241","0.081106"],
  ["0.000000","1.951348","0.200000","1.440424","0.510923"],
  ["0.000000","1.951348","0.300000","0.951943","0.999405"],
  ["0.000000","1.951348","0.400000","0.623677","1.327671"],
  ["0.000000","1.951348","0.500000","0.582046","1.369302"],
  ["0.000000","1.951348","0.600000","0.894203","1.057145"],
  ["0.000000","1.951348","0.700000","1.348910","0.602438"],
  ["0.000000","1.951348","0.800000","1.317225","0.634122"],
  ["0.000000","1.951348","0.900000","0.759773","1.191575"],
  ["0.000000","1.951348","1.000000","0.312873","1.638475"],
  ["0.000000","1.951348","1.100000","0.114988","1.836360"],
  ["0.000000","1.951348","1.200000","0.042477","1.908871"],
  ["0.000000","1.951348","1.300000","0.016480","1.934868"],
  ["0.000000","1.951348","1.400000","0.006792","1.944556"],
  ["0.000000","1.951348","1.500000","0.002972","1.948376"],
  ["0.100000","1.870241","0.000000","1.951348","0.081106"],
  ["0.100000","1.870241","0.100000","1.870241","0.000000"],
  ["0.100000","1.870241","0.200000","1.440424","0.429817"],
  ["0.100000","1.870241","0.300000","0.951943","0.918298"],
  ["0.100000","1.870241","0.400000","0.623677","1.246565"],
  ["0.100000","1.870241","0.500000","0.582046","1.288195"],
  ["0.100000","1.870241","0.600000","0.894203","0.976038"],
  ["0.100000","1.870241","0.700000","1.348910","0.521331"],
  ["0.100000","1.870241","0.800000","1.317225","0.553016"],
  ["0.100000","1.870241","0.900000","0.759773","1.110469"],
  ["0.100000","1.870241","1.000000","0.312873","1.557368"],
  ["0.100000","1.870241","1.100000","0.114988","1.755253"],
  ["0.100000","1.870241","1.200000","0.042477","1.827764"],
  ["0.100000","1.870241","1.300000","0.016480","1.853762"],
  ["0.100000","1.870241","1.400000","0.006792","1.863449"],
  ["0.100000","1.870241","1.500000","0.002972","1.867269"],
  ["0.200000","1.440424","0.000000","1.951348","0.510923"],
  ["0.200000","1.440424","0.100000","1.870241","0.429817"],
  ["0.200000","1.440424","0.200000","1.440424","0.000000"],
  ["0.200000","1.440424","0.300000","0.951943","0.488481"],
  ["0.200000","1.440424","0.400000","0.623677","0.816748"],
  ["0.200000","1.440424","0.500000","0.582046","0.858378"],
  ["0.200000","1.440424","0.600000","0.894203","0.546221"],
  ["0.200000","1.440424","0.700000","1.348910","0.091514"],
  ["0.200000","1.440424","0.800000","1.317225","0.123199"],
  ["0.200000","1.440424","0.900000","0.759773","0.680652"],
  ["0.200000","1.440424","1.000000","0.312873","1.127551"],
  ["0.200000","1.440424","1.100000","0.114988","1.325436"],
  ["0.200000","1.440424","1.200000","0.042477","1.397947"],
  ["0.200000","1.440424","1.300000","0.016480","1.423945"],
  ["0.200000","1.440424","1.400000","0.006792","1.433632"],
  ["0.200000","1.440424","1.500000","0.002972","1.437452"],
  ["0.300000","0.951943","0.000000","1.951348","0.999405"],
  ["0.300000","0.951943","0.100000","1.870241","0.918298"],
  ["0.300000","0.951943","0.200000","1.440424","0.488481"],
  ["0.300000","0.951943","0.300000","0.951943","0.000000"],
  ["0.300000","0.951943","0.400000","0.623677","0.328266"],
  ["0.300000","0.951943","0.500000","0.582046","0.369897"],
  ["0.300000","0.951943","0.600000","0.894203","0.057740"],
  ["0.300000","0.951943","0.700000","1.348910","0.396967"],
  ["0.300000","0.951943","0.800000","1.317225","0.365282"],
  ["0.300000","0.951943","0.900000","0.759773","0.192170"],
  ["0.300000","0.951943","1.000000","0.312873","0.639070"],
  ["0.300000","0.951943","1.100000","0.114988","0.836955"],
  ["0.300000","0.951943","1.200000","0.042477","0.909466"],
  ["0.300000","0.951943","1.300000","0.016480","0.935463"],
  ["0.300000","0.951943","1.400000","0.006792","0.945151"],
  ["0.300000","0.951943","1.500000","0.002972","0.948971"],
  ["0.400000","0.623677","0.000000","1.951348","1.327671"],
  ["0.400000","0.623677","0.100000","1.870241","1.246565"],
  ["0.400000","0.623677","0.200000","1.440424","0.816748"],
  ["0.400000","0.623677","0.300000","0.951943","0.328266"],
  ["0.400000","0.623677","0.400000","0.623677","0.000000"],
  ["0.400000","0.623677","0.500000","0.582046","0.041631"],
  ["0.400000","0.623677","0.600000","0.894203","0.270526"],
  ["0.400000","0.623677","0.700000","1.348910","0.725233"],
  ["0.400000","0.623677","0.800000","1.317225","0.693549"],
  ["0.400000","0.623677","0.900000","0.759773","0.136096"],
  ["0.400000","0.623677","1.000000","0.312873","0.310804"],
  ["0.400000","0.623677","1.100000","0.114988","0.508689"],
  ["0.400000","0.623677","1.200000","0.042477","0.581200"],
  ["0.400000","0.623677","1.300000","0.016480","0.607197"],
  ["0.400000","0.623677","1.400000","0.006792","0.616885"],
  ["0.400000","0.623677","1.500000","0.002972","0.620704"],
  ["0.500000","0.582046","0.000000","1.951348","1.369302"],
  ["0.500000","0.582046","0.100000","1.870241","1.288195"],
  ["0.500000","0.582046","0.200000","1.440424","0.858378"],
  ["0.500000","0.582046","0.300000","0.951943","0.369897"],
  ["0.500000","0.582046","0.400000","0.623677","0.041631"],
  ["0.500000","0.582046","0.500000","0.582046","0.000000"],
  ["0.500000","0.582046","0.600000","0.894203","0.312157"],
  ["0.500000","0.582046","0.700000","1.348910","0.766864"],
  ["0.500000","0.582046","0.800000","1.317225","0.735180"],
  ["0.500000","0.582046","0.900000","0.759773","0.177727"],
  ["0.500000","0.582046","1.000000","0.312873","0.269173"],
  ["0.500000","0.582046","1.100000","0.114988","0.467058"],
  ["0.500000","0.582046","1.200000","0.042477","0.539569"],
  ["0.500000","0.582046","1.300000","0.016480","0.565566"],
  ["0.500000","0.582046","1.400000","0.006792","0.575254"],
  ["0.500000","0.582046","1.500000","0.002972","0.579074"],
  ["0.600000","0.894203","0.000000","1.951348","1.057145"],
  ["0.600000","0.894203","0.100000","1.870241","0.976038"],
  ["0.600000","0.894203","0.200000","1.440424","0.546221"],
  ["0.600000","0.894203","0.300000","0.951943","0.057740"],
  ["0.600000","0.894203","0.400000","0.623677","0.270526"],
  ["0.600000","0.894203","0.500000","0.582046","0.312157"],
  ["0.600000","0.894203","0.600000","0.894203","0.000000"],
  ["0.600000","0.894203","0.700000","1.348910","0.454707"],
  ["0.600000","0.894203","0.800000","1.317225","0.423022"],
  ["0.600000","0.894203","0.900000","0.759773","0.134430"],
  ["0.600000","0.894203","1.000000","0.312873","0.581330"],
  ["0.600000","0.894203","1.100000","0.114988","0.779215"],
  ["0.600000","0.894203","1.200000","0.042477","0.851726"],
  ["0.600000","0.894203","1.300000","0.016480","0.877723"],
  ["0.600000","0.894203","1.400000","0.006792","0.887411"],
  ["0.600000","0.894203","1.500000","0.002972","0.891231"],
  ["0.700000","1.348910","0.000000","1.951348","0.602438"],
  ["0.700000","1.348910","0.100000","1.870241","0.521331"],
  ["0.700000","1.348910","0.200000","1.440424","0.091514"],
  ["0.700000","1.348910","0.300000","0.951943","0.396967"],
  ["0.700000","1.348910","0.400000","0.623677","0.725233"],
  ["0.700000","1.348910","0.500000","0.582046","0.766864"],
  ["0.700000","1.348910","0.600000","0.894203","0.454707"],
  ["0.700000","1.348910","0.700000","1.348910","0.000000"],
  ["0.700000","1.348910","0.800000","1.317225","0.031685"],
  ["0.700000","1.348910","0.900000","0.759773","0.589137"],
  ["0.700000","1.348910","1.000000","0.312873","1.036037"],
  ["0.700000","1.348910","1.100000","0.114988","1.233922"],
  ["0.700000","1.348910","1.200000","0.042477","1.306433"],
  ["0.700000","1.348910","1.300000","0.016480","1.332430"],
  ["0.700000","1.348910","1.400000","0.006792","1.342118"],
  ["0.700000","1.348910","1.500000","0.002972","1.345938"],
  ["0.800000","1.317225","0.000000","1.951348","0.634122"],
  ["0.800000","1.317225","0.100000","1.870241","0.553016"],
  ["0.800000","1.317225","0.200000","1.440424","0.123199"],
  ["0.800000","1.317225","0.300000","0.951943","0.365282"],
  ["0.800000","1.317225","0.400000","0.623677","0.693549"],
  ["0.800000","1.317225","0.500000","0.582046","0.735180"],
  ["0.800000","1.317225","0.600000","0.894203","0.423022"],
  ["0.800000","1.317225","0.700000","1.348910","0.031685"],
  ["0.800000","1.317225","0.800000","1.317225","0.000000"],
  ["0.800000","1.317225","0.900000","0.759773","0.557453"],
  ["0.800000","1.317225","1.000000","0.312873","1.004352"],
  ["0.800000","1.317225","1.100000","0.114988","1.202237"],
  ["0.800000","1.317225","1.200000","0.042477","1.274748"],
  ["0.800000","1.317225","1.300000","0.016480","1.300746"],
  ["0.800000","1.317225","1.400000","0.006792","1.310433"],
  ["0.800000","1.317225","1.500000","0.002972","1.314253"],
  ["0.900000","0.759773","0.000000","1.951348","1.191575"],
  ["0.900000","0.759773","0.100000","1.870241","1.110469"],
  ["0.900000","0.759773","0.200000","1.440424","0.680652"],
  ["0.900000","0.759773","0.300000","0.951943","0.192170"],
  ["0.900000","0.759773","0.400000","0.623677","0.136096"],
  ["0.900000","0.759773","0.500000","0.582046","0.177727"],
  ["0.900000","0.759773","0.600000","0.894203","0.134430"],
  ["0.900000","0.759773","0.700000","1.348910","0.589137"],
  ["0.900000","0.759773","0.800000","1.317225","0.557453"],
  ["0.900000","0.759773","0.900000","0.759773","0.000000"],
  ["0.900000","0.759773","1.000000","0.312873","0.446900"],
  ["0.900000","0.759773","1.100000","0.114988","0.644785"],
  ["0.900000","0.759773","1.200000","0.042477","0.717296"],
  ["0.900000","0.759773","1.300000","0.016480","0.743293"],
  ["0.900000","0.759773","1.400000","0.006792","0.752981"],
  ["0.900000","0.759773","1.500000","0.002972","0.756800"],
  ["1.000000","0.312873","0.000000","1.951348","1.638475"],
  ["1.000000","0.312873","0.100000","1.870241","1.557368"],
  ["1.000000","0.312873","0.200000","1.440424","1.127551"],
  ["1.000000","0.312873","0.300000","0.951943","0.639070"],
  ["1.000000","0.312873","0.400000","0.623677","0.310804"],
  ["1.000000","0.312873","0.500000","0.582046","0.269173"],
  ["1.000000","0.312873","0.600000","0.894203","0.581330"],
  ["1.000000","0.312873","0.700000","1.348910","1.036037"],
  ["1.000000","0.312873","0.800000","1.317225","1.004352"],
  ["1.000000","0.312873","0.900000","0.759773","0.446900"],
  ["1.000000","0.312873","1.000000","0.312873","0.000000"],
  ["1.000000","0.312873","1.100000","0.114988","0.197885"],
  ["1.000000","0.312873","1.200000","0.042477","0.270396"],
  ["1.000000","0.312873","1.300000","0.016480","0.296393"],
  ["1.000000","0.312873","1.400000","0.006792","0.306081"],
  ["1.000000","0.312873","1.500000","0.002972","0.309901"],
  ["1.100000","0.114988","0.000000","1.951348","1.836360"],
  ["1.100000","0.114988","0.100000","1.870241","1.755253"],
  ["1.100000","0.114988","0.200000","1.440424","1.325436"],
  ["1.100000","0.114988","0.300000","0.951943","0.836955"],
  ["1.100000","0.114988","0.400000","0.623677","0.508689"],
  ["1.100000","0.114988","0.500000","0.582046","0.467058"],
  ["1.100000","0.114988","0.600000","0.894203","0.779215"],
  ["1.100000","0.114988","0.700000","1.348910","1.233922"],
  ["1.100000","0.114988","0.800000","1.317225","1.202237"],
  ["1.100000","0.114988","0.900000","0.759773","0.644785"],
  ["1.100000","0.114988","1.000000","0.312873","0.197885"],
  ["1.100000","0.114988","1.100000","0.114988","0.000000"],
  ["1.100000","0.114988","1.200000","0.042477","0.072511"],
  ["1.100000","0.114988","1.300000","0.016480","0.098508"],
  ["1.100000","0.114988","1.400000","0.006792","0.108196"],
  ["1.100000","0.114988","1.500000","0.002972","0.112016"],
  ["1.200000","0.042477","0.000000","1.951348","1.908871"],
  ["1.200000","0.042477","0.100000","1.870241","1.827764"],
  ["1.200000","0.042477","0.200000","1.440424","1.397947"],
  ["1.200000","0.042477","0.300000","0.951943","0.909466"],
  ["1.200000","0.042477","0.400000","0.623677","0.581200"],
  ["1.200000","0.042477","0.500000","0.582046","0.539569"],
  ["1.200000","0.042477","0.600000","0.894203","0.851726"],
  ["1.200000","0.042477","0.700000","1.348910","1.306433"],
  ["1.200000","0.042477","0.800000","1.317225","1.274748"],
  ["1.200000","0.042477","0.900000","0.759773","0.717296"],
  ["1.200000","0.042477","1.000000","0.312873","0.270396"],
  ["1.200000","0.042477","1.100000","0.114988","0.072511"],
  ["1.200000","0.042477","1.200000","0.042477","0.000000"],
  ["1.200000","0.042477","1.300000","0.016480","0.025997"],
  ["1.200000","0.042477","1.400000","0.006792","0.035685"],
  ["1.200000","0.042477","1.500000","0.002972","0.039505"],
  ["1.300000","0.016480","0.000000","1.951348","1.934868"],
  ["1.300000","0.016480","0.100000","1.870241","1.853762"],
  ["1.300000","0.016480","0.200000","1.440424","1.423945"],
  ["1.300000","0.016480","0.300000","0.951943","0.935463"],
  ["1.300000","0.016480","0.400000","0.623677","0.607197"],
  ["1.300000","0.016480","0.500000","0.582046","0.565566"],
  ["1.300000","0.016480","0.600000","0.894203","0.877723"],
  ["1.300000","0.016480","0.700000","1.348910","1.332430"],
  ["1.300000","0.016480","0.800000","1.317225","1.300746"],
  ["1.300000","0.016480","0.900000","0.759773","0.743293"],
  ["1.300000","0.016480","1.000000","0.312873","0.296393"],
  ["1.300000","0.016480","1.100000","0.114988","0.098508"],
  ["1.300000","0.016480","1.200000","0.042477","0.025997"],
  ["1.300000","0.016480","1.300000","0.016480","0.000000"],
  ["1.300000","0.016480","1.400000","0.006792","0.009688"],
  ["1.300000","0.016480","1.500000","0.002972","0.013507"],
  ["1.400000","0.006792","0.000000","1.951348","1.944556"],
  ["1.400000","0.006792","0.100000","1.870241","1.863449"],
  ["1.400000","0.006792","0.200000","1.440424","1.433632"],
  ["1.400000","0.006792","0.300000","0.951943","0.945151"],
  ["1.400000","0.006792","0.400000","0.623677","0.616885"],
  ["1.400000","0.006792","0.500000","0.582046","0.575254"],
  ["1.400000","0.006792","0.600000","0.894203","0.887411"],
  ["1.400000","0.006792","0.700000","1.348910","1.342118"],
  ["1.400000","0.006792","0.800000","1.317225","1.310433"],
  ["1.400000","0.006792","0.900000","0.759773","0.752981"],
  ["1.400000","0.006792","1.000000","0.312873","0.306081"],
  ["1.400000","0.006792","1.100000","0.114988","0.108196"],
  ["1.400000","0.006792","1.200000","0.042477","0.035685"],
  ["1.400000","0.006792","1.300000","0.016480","0.009688"],
  ["1.400000","0.006792","1.400000","0.006792","0.000000"],
  ["1.400000","0.006792","1.500000","0.002972","0.003820"],
  ["1.500000","0.002972","0.000000","1.951348","1.948376"],
  ["1.500000","0.002972","0.100000","1.870241","1.867269"],
  ["1.500000","0.002972","0.200000","1.440424","1.437452"],
  ["1.500000","0.002972","0.300000","0.951943","0.948971"],
  ["1.500000","0.002972","0.400000","0.623677","0.620704"],
  ["1.500000","0.002972","0.500000","0.582046","0.579074"],
  ["1.500000","0.002972","0.600000","0.894203","0.891231"],
  ["1.500000","0.002972","0.700000","1.348910","1.345938"],
  ["1.500000","0.002972","0.800000","1.317225","1.314253"],
  ["1.500000","0.002972","0.900000","0.759773","0.756800"],
  ["1.500000","0.002972","1.000000","0.312873","0.309901"],
  ["1.500000","0.002972","1.100000","0.114988","0.112016"],
  ["1.500000","0.002972","1.200000","0.042477","0.039505"],
  ["1.500000","0.002972","1.300000","0.016480","0.013507"],
  ["1.500000","0.002972","1.400000","0.006792","0.003820"],
  ["1.500000","0.002972","1.500000","0.002972","0.000000"],
  ["1.600000","0.001375","0.000000","1.951348","1.949973"],
  ["1.600000","0.001375","0.100000","1.870241","1.868867"],
  ["1.600000","0.001375","0.200000","1.440424","1.439050"],
  ["1.600000","0.001375","0.300000","0.951943","0.950568"],
  ["1.600000","0.001375","0.400000","0.623677","0.622302"],
  ["1.600000","0.001375","0.500000","0.582046","0.580671"],
  ["1.600000","0.001375","0.600000","0.894203","0.892828"],
  ["1.600000","0.001375","0.700000","1.348910","1.347535"],
  ["1.600000","0.001375","0.800000","1.317225","1.315851"],
  ["1.600000","0.001375","0.900000","0.759773","0.758398"],
  ["1.600000","0.001375","1.000000","0.312873","0.311498"],
  ["1.600000","0.001375","1.100000","0.114988","0.113613"],
  ["1.600000","0.001375","1.200000","0.042477","0.041102"],
  ["1.600000","0.001375","1.300000","0.016480","0.015105"],
  ["1.600000","0.001375","1.400000","0.006792","0.005417"],
  ["1.600000","0.001375","1.500000","0.002972","0.001598"],
  ["1.700000","0.000669","0.000000","1.951348","1.950679"],
  ["1.700000","0.000669","0.100000","1.870241","1.869573"],
  ["1.700000","0.000669","0.200000","1.440424","1.439756"],
  ["1.700000","0.000669","0.300000","0.951943","0.951275"],
  ["1.700000","0.000669","0.400000","0.623677","0.623008"],
  ["1.700000","0.000669","0.500000","0.582046","0.581377"],
  ["1.700000","0.000669","0.600000","0.894203","0.893535"],
  ["1.700000","0.000669","0.700000","1.348910","1.348242"],
  ["1.700000","0.000669","0.800000","1.317225","1.316557"],
  ["1.700000","0.000669","0.900000","0.759773","0.759104"],
  ["1.700000","0.000669","1.000000","0.312873","0.312205"],
  ["1.700000","0.000669","1.100000","0.114988","0.114320"],
  ["1.700000","0.000669","1.200000","0.042477","0.041809"],
  ["1.700000","0.000669","1.300000","0.016480","0.015811"],
  ["1.700000","0.000669","1.400000","0.006792","0.006124"],
  ["1.700000","0.000669","1.500000","0.002972","0.002304"],
  ["1.800000","0.000340","0.000000","1.951348","1.951008"],
  ["1.800000","0.000340","0.100000","1.870241","1.869902"],
  ["1.800000","0.000340","0.200000","1.440424","1.440085"],
  ["1.800000","0.000340","0.300000","0.951943","0.951603"],
  ["1.800000","0.000340","0.400000","0.623677","0.623337"],
  ["1.800000","0.000340","0.500000","0.582046","0.581706"],
  ["1.800000","0.000340","0.600000","0.894203","0.893863"],
  ["1.800000","0.000340","0.700000","1.348910","1.348570"],
  ["1.800000","0.000340","0.800000","1.317225","1.316886"],
  ["1.800000","0.000340","0.900000","0.759773","0.759433"],
  ["1.800000","0.000340","1.000000","0.312873","0.312533"],
  ["1.800000","0.000340","1.100000","0.114988","0.114648"],
  ["1.800000","0.000340","1.200000","0.042477","0.042137"],
  ["1.800000","0.000340","1.300000","0.016480","0.016140"],
  ["1.800000","0.000340","1.400000","0.006792","0.006452"],
  ["1.800000","0.000340","1.500000","0.002972","0.002632"],
  ["1.900000","0.000180","0.000000","1.951348","1.951168"],
  ["1.900000","0.000180","0.100000","1.870241","1.870062"],
  ["1.900000","0.000180","0.200000","1.440424","1.440245"],
  ["1.900000","0.000180","0.300000","0.951943","0.951763"],
  ["1.900000","0.000180","0.400000","0.623677","0.623497"],
  ["1.900000","0.000180","0.500000","0.582046","0.581866"],
  ["1.900000","0.000180","0.600000","0.894203","0.894023"],
  ["1.900000","0.000180","0.700000","1.348910","1.348730"],
  ["1.900000","0.000180","0.800000","1.317225","1.317046"],
  ["1.900000","0.000180","0.900000","0.759773","0.759593"],
  ["1.900000","0.000180","1.000000","0.312873","0.312693"],
  ["1.900000","0.000180","1.100000","0.114988","0.114808"],
  ["1.900000","0.000180","1.200000","0.042477","0.042297"],
  ["1.900000","0.000180","1.300000","0.016480","0.016300"],
  ["1.900000","0.000180","1.400000","0.006792","0.006612"],
  ["1.900000","0.000180","1.500000","0.002972","0.002793"],
  ["2.000000","0.000099","0.000000","1.951348","1.951249"],
  ["2.000000","0.000099","0.100000","1.870241","1.870143"],
  ["2.000000","0.000099","0.200000","1.440424","1.440326"],
  ["2.000000","0.000099","0.300000","0.951943","0.951844"],
  ["2.000000","0.000099","0.400000","0.623677","0.623578"],
  ["2.000000","0.000099","0.500000","0.582046","0.581947"],
  ["2.000000","0.000099","0.600000","0.894203","0.894105"],
  ["2.000000","0.000099","0.700000","1.348910","1.348812"],
  ["2.000000","0.000099","0.800000","1.317225","1.317127"],
  ["2.000000","0.000099","0.900000","0.759773","0.759674"],
  ["2.000000","0.000099","1.000000","0.312873","0.312775"],
  ["2.000000","0.000099","1.100000","0.114988","0.114889"],
  ["2.000000","0.000099","1.200000","0.042477","0.042379"],
  ["2.000000","0.000099","1.300000","0.016480","0.016381"],
  ["2.000000","0.000099","1.400000","0.006792","0.006694"],
  ["2.000000","0.000099","1.500000","0.002972","0.002874"],
  ["2.100000","0.000056","0.000000","1.951348","1.951292"],
  ["2.100000","0.000056","0.100000","1.870241","1.870186"],
  ["2.100000","0.000056","0.200000","1.440424","1.440369"],
  ["2.100000","0.000056","0.300000","0.951943","0.951887"],
  ["2.100000","0.000056","0.400000","0.623677","0.623621"],
  ["2.100000","0.000056","0.500000","0.582046","0.581990"],
  ["2.100000","0.000056","0.600000","0.894203","0.894147"],
  ["2.100000","0.000056","0.700000","1.348910","1.348854"],
  ["2.100000","0.000056","0.800000","1.317225","1.317170"],
  ["2.100000","0.000056","0.900000","0.759773","0.759717"],
  ["2.100000","0.000056","1.000000","0.312873","0.312817"],
  ["2.100000","0.000056","1.100000","0.114988","0.114932"],
  ["2.100000","0.000056","1.200000","0.042477","0.042421"],
  ["2.100000","0.000056","1.300000","0.016480","0.016424"],
  ["2.100000","0.000056","1.400000","0.006792","0.006736"],
  ["2.100000","0.000056","1.500000","0.002972","0.002917"],
  ["2.200000","0.000033","0.000000","1.951348","1.951315"],
  ["2.200000","0.000033","0.100000","1.870241","1.870209"],
  ["2.200000","0.000033","0.200000","1.440424","1.440392"],
  ["2.200000","0.000033","0.300000","0.951943","0.951910"],
  ["2.200000","0.000033","0.400000","0.623677","0.623644"],
  ["2.200000","0.000033","0.500000","0.582046","0.582013"],
  ["2.200000","0.000033","0.600000","0.894203","0.894171"],
  ["2.200000","0.000033","0.700000","1.348910","1.348878"],
  ["2.200000","0.000033","0.800000","1.317225","1.317193"],
  ["2.200000","0.000033","0.900000","0.759773","0.759740"],
  ["2.200000","0.000033","1.000000","0.312873","0.312841"],
  ["2.200000","0.000033","1.100000","0.114988","0.114956"],
  ["2.200000","0.000033","1.200000","0.042477","0.042445"],
  ["2.200000","0.000033","1.300000","0.016480","0.016447"],
  ["2.200000","0.000033","1.400000","0.006792","0.006760"],
  ["2.200000","0.000033","1.500000","0.002972","0.002940"],
  ["2.300000","0.000019","0.000000","1.951348","1.951328"],
  ["2.300000","0.000019","0.100000","1.870241","1.870222"],
  ["2.300000","0.000019","0.200000","1.440424","1.440405"],
  ["2.300000","0.000019","0.300000","0.951943","0.951924"],
  ["2.300000","0.000019","0.400000","0.623677","0.623657"],
  ["2.300000","0.000019","0.500000","0.582046","0.582027"],
  ["2.300000","0.000019","0.600000","0.894203","0.894184"],
  ["2.300000","0.000019","0.700000","1.348910","1.348891"],
  ["2.300000","0.000019","0.800000","1.317225","1.317206"],
  ["2.300000","0.000019","0.900000","0.759773","0.759753"],
  ["2.300000","0.000019","1.000000","0.312873","0.312854"],
  ["2.300000","0.000019","1.100000","0.114988","0.114969"],
  ["2.300000","0.000019","1.200000","0.042477","0.042458"],
  ["2.300000","0.000019","1.300000","0.016480","0.016460"],
  ["2.300000","0.000019","1.400000","0.006792","0.006773"],
  ["2.300000","0.000019","1.500000","0.002972","0.002953"],
  ["2.400000","0.000012","0.000000","1.951348","1.951336"],
  ["2.400000","0.000012","0.100000","1.870241","1.870230"],
  ["2.400000","0.000012","0.200000","1.440424","1.440413"],
  ["2.400000","0.000012","0.300000","0.951943","0.951931"],
  ["2.400000","0.000012","0.400000","0.623677","0.623665"],
  ["2.400000","0.000012","0.500000","0.582046","0.582034"],
  ["2.400000","0.000012","0.600000","0.894203","0.894191"],
  ["2.400000","0.000012","0.700000","1.348910","1.348898"],
  ["2.400000","0.000012","0.800000","1.317225","1.317214"],
  ["2.400000","0.000012","0.900000","0.759773","0.759761"],
  ["2.400000","0.000012","1.000000","0.312873","0.312861"],
  ["2.400000","0.000012","1.100000","0.114988","0.114976"],
  ["2.400000","0.000012","1.200000","0.042477","0.042465"],
  ["2.400000","0.000012","1.300000","0.016480","0.016468"],
  ["2.400000","0.000012","1.400000","0.006792","0.006780"],
  ["2.400000","0.000012","1.500000","0.002972","0.002960"]
];

/* ========= 2) State ========= */
let sortKey = 'xg';  // xg, kg, xh, kh, diff
let sortDir = 1;     // 1 asc, -1 desc
let page = 1;
let pageSize = 50;   // default

/* ========= 3) Utilities ========= */
const num = s => Number(s);
function compare(a,b){
  if (a === b) return 0;
  return a < b ? -1 : 1;
}
function format(n){ return Number(n).toFixed(6); }

function filterRows(q){
  if (!q) return DATA;
  const expr = q.trim().toLowerCase();
  // support simple filter syntax like "diff > 1.0"
  const m = expr.match(/(x_g|kg|g|x_h|kh|h|diff)\s*([<>]=?|=)\s*([0-9.eE+-]+)/);
  if (m){
    const col = m[1];
    const op = m[2];
    const val = Number(m[3]);
    const idx = (col.startsWith('x_g')||col==='g'||col==='kg') ? (col==='x_g'?0: (col==='kg'?1:1))
               : (col.startsWith('x_h')||col==='h'||col==='kh') ? (col==='x_h'?2: (col==='kh'?3:3))
               : 4;
    return DATA.filter(r=>{
      const x = Number(r[idx]);
      return op==='>'? x>val : op==='>='?x>=val : op==='<'?x<val : op==='<= '? x<=val : op==='<= '? x<=val : op==='<= '? x<=val : op==='<= '? x<=val : op==='<='? x<=val : op==='='? x===val : false;
    });
  }
  // default: substring match
  return DATA.filter(r => r.join(' ').toLowerCase().includes(expr));
}

function sortedRows(rows){
  const keyIndex = {xg:0, kg:1, xh:2, kh:3, diff:4}[sortKey];
  return rows.slice().sort((A,B)=>{
    const a = num(A[keyIndex]); const b = num(B[keyIndex]);
    return sortDir * compare(a,b);
  });
}

function paginate(rows){
  const total = rows.length;
  const ps = pageSize === 'All' ? total : Number(pageSize);
  const pages = Math.max(1, Math.ceil(total / ps));
  page = Math.min(page, pages);
  const start = ps==='All' ? 0 : (page-1)*ps;
  const end   = ps==='All' ? total : start + ps;
  return {slice: rows.slice(start, end), total, pages, start, end};
}

function render(){
  const q = document.getElementById('q').value;
  const filtered = filterRows(q);
  const ordered = sortedRows(filtered);
  const {slice,total,pages,start,end} = paginate(ordered);

  // rows
  const tbody = document.getElementById('tbody');
  tbody.innerHTML = slice.map(r=>(
    `<tr><td>${format(r[0])}</td><td>${format(r[1])}</td><td>${format(r[2])}</td><td>${format(r[3])}</td><td>${format(r[4])}</td></tr>`
  )).join('');

  // page info
  document.getElementById('pageInfo').textContent =
    `Page ${page} of ${pages} — showing ${pageSize==='All'? total : (end-start)} of ${total} rows`;

  // header sort state
  document.querySelectorAll('thead th').forEach(th=>{
    th.classList.remove('sort-asc','sort-desc');
    const key = th.dataset.key;
    if (key === sortKey){
      th.classList.add(sortDir === 1 ? 'sort-asc' : 'sort-desc');
    }
  });

  // pager buttons
  document.getElementById('prevBtn').disabled = page<=1;
  document.getElementById('nextBtn').disabled = page>=pages;
}

function toCSV(rows){
  const header = ["x_g","Curvature g(x)","x_h","Curvature h(x)","|Curv g - Curv h|"];
  const lines = [header.join(",")].concat(rows.map(r=>r.join(",")));
  return lines.join("\n");
}

/* ========= 4) Events ========= */
document.getElementById('q').addEventListener('input', ()=>{ page=1; render(); });
document.getElementById('clearBtn').addEventListener('click', ()=>{
  document.getElementById('q').value=''; page=1; render();
});
document.getElementById('csvBtn').addEventListener('click', ()=>{
  const csv = toCSV(filterRows(document.getElementById('q').value));
  const blob = new Blob([csv], {type:'text/csv'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'curvature_table.csv';
  a.click();
  URL.revokeObjectURL(a.href);
});
document.getElementById('prevBtn').addEventListener('click', ()=>{ page=Math.max(1,page-1); render(); });
document.getElementById('nextBtn').addEventListener('click', ()=>{ page=page+1; render(); });
document.getElementById('pageSize').addEventListener('change', e=>{
  pageSize = e.target.value; page=1; render();
});
document.querySelectorAll('thead th').forEach(th=>{
  th.addEventListener('click', ()=>{
    const key = th.dataset.key;
    if (sortKey === key){ sortDir *= -1; } else { sortKey = key; sortDir = 1; }
    render();
  });
});

// initial render
render();
</script>
</body>
</html>
